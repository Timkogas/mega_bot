<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Telegram Bot Web App</title>
    <script src="//cdn.jsdelivr.net/npm/eruda"></script>
    <script>
        eruda.init();
    </script>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
</head>

<body style="color:var(--tg-theme-text-color); font-family: Arial, sans-serif;">
    <h1>Leaderboard</h1>

    <div id="leaderboard">
        <ol>
            <% topUsers.forEach((user, index) => { %>
                <li data-user-id="<%= user.id %>">
                    <% let displayedName = user.first_name.slice(0, 3) + '* ' + user.last_name.slice(-3); %>
                    <%= displayedName %> - <%= user.score %> points
                </li>
            <% }); %>
        </ul>
    </div>

    <script>
        let tg = window.Telegram.WebApp;
        const data = tg.initDataUnsafe.user.id;
    
        document.addEventListener('DOMContentLoaded', () => {
            const leaderboard = document.getElementById('leaderboard');
            const listItems = leaderboard.querySelectorAll('li');
    
            listItems.forEach(item => {
                const userId = parseInt(item.dataset.userId);
                
                if (userId === data) {
                    item.style.fontWeight = 'bold';
                }
            });
        });
    </script>
</body>

</html>